{"/home/amrit/internship/mailauth/src/index.js":{"path":"/home/amrit/internship/mailauth/src/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":21}},"2":{"start":{"line":7,"column":15},"end":{"line":7,"column":57}},"3":{"start":{"line":8,"column":12},"end":{"line":8,"column":43}},"4":{"start":{"line":9,"column":18},"end":{"line":9,"column":40}},"5":{"start":{"line":10,"column":20},"end":{"line":10,"column":68}},"6":{"start":{"line":11,"column":39},"end":{"line":11,"column":93}},"7":{"start":{"line":12,"column":12},"end":{"line":12,"column":35}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":18}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":33}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":38}},"11":{"start":{"line":16,"column":0},"end":{"line":16,"column":33}},"12":{"start":{"line":17,"column":0},"end":{"line":19,"column":4}},"13":{"start":{"line":20,"column":0},"end":{"line":20,"column":52}},"14":{"start":{"line":21,"column":0},"end":{"line":21,"column":30}},"15":{"start":{"line":22,"column":0},"end":{"line":24,"column":3}},"16":{"start":{"line":23,"column":2},"end":{"line":23,"column":48}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":11,"column":9},"end":{"line":11,"column":31}},"loc":{"start":{"line":11,"column":37},"end":{"line":11,"column":95}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":22,"column":17},"end":{"line":22,"column":18}},"loc":{"start":{"line":22,"column":23},"end":{"line":24,"column":1}},"line":22}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":46},"end":{"line":11,"column":92}},"type":"cond-expr","locations":[{"start":{"line":11,"column":70},"end":{"line":11,"column":73}},{"start":{"line":11,"column":76},"end":{"line":11,"column":92}}],"line":11},"1":{"loc":{"start":{"line":11,"column":46},"end":{"line":11,"column":67}},"type":"binary-expr","locations":[{"start":{"line":11,"column":46},"end":{"line":11,"column":49}},{"start":{"line":11,"column":53},"end":{"line":11,"column":67}}],"line":11}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":2,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1},"f":{"0":2,"1":1},"b":{"0":[0,2],"1":[2,2]},"inputSourceMap":{"version":3,"names":["app","express","use","json","cookieParser","_json","urlencoded","extended","static","routes","listen","console","log"],"sourceRoot":"/home/amrit/internship/mailauth/src/","sources":["index.js"],"sourcesContent":["import express from 'express';\nconst app = express();\nimport { router as routes } from './routes/user.routes';\nimport { json as _json, urlencoded } from 'body-parser';\nimport cookieParser from 'cookie-parser';\napp.use(express.json());\napp.use(cookieParser())\napp.use(_json()); // for parsing application/json\napp.use(urlencoded({ extended: true }));\napp.use('/', express.static('src/public'))\napp.use('/api', routes)\napp.listen(3000, () => {\n\tconsole.log('started listening at port 3000')\n})\n\nexport { app };\n"],"mappings":";;;;;;AAAA;AAEA;AACA;AACA;AAAyC;AAHzC,MAAMA,GAAG,GAAG,IAAAC,gBAAO,GAAE;AAAC;AAItBD,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACE,IAAI,EAAE,CAAC;AACvBH,GAAG,CAACE,GAAG,CAAC,IAAAE,qBAAY,GAAE,CAAC;AACvBJ,GAAG,CAACE,GAAG,CAAC,IAAAG,gBAAK,GAAE,CAAC,CAAC,CAAC;AAClBL,GAAG,CAACE,GAAG,CAAC,IAAAI,sBAAU,EAAC;EAAEC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAAC;AACvCP,GAAG,CAACE,GAAG,CAAC,GAAG,EAAED,gBAAO,CAACO,MAAM,CAAC,YAAY,CAAC,CAAC;AAC1CR,GAAG,CAACE,GAAG,CAAC,MAAM,EAAEO,YAAM,CAAC;AACvBT,GAAG,CAACU,MAAM,CAAC,IAAI,EAAE,MAAM;EACtBC,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC;AAC9C,CAAC,CAAC"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7bb00b246d5faa9f613c52e9bbd5bac56a8e0c3f","contentHash":"593ab91197ac81cf9df97d1f6d2ca0c1426d48cfa4f0f02326bb018a1493c8dd"},"/home/amrit/internship/mailauth/src/routes/user.routes.js":{"path":"/home/amrit/internship/mailauth/src/routes/user.routes.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":24}},"2":{"start":{"line":7,"column":18},"end":{"line":7,"column":47}},"3":{"start":{"line":8,"column":12},"end":{"line":8,"column":57}},"4":{"start":{"line":9,"column":15},"end":{"line":9,"column":42}},"5":{"start":{"line":10,"column":0},"end":{"line":10,"column":24}},"6":{"start":{"line":11,"column":0},"end":{"line":11,"column":47}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":46}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":70}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{},"b":{},"inputSourceMap":{"version":3,"names":["router","require","Router","post","createUser","get","verifyUser","checkIfverified","userArea"],"sourceRoot":"/home/amrit/internship/mailauth/src/routes/","sources":["user.routes.js"],"sourcesContent":["const router = require('express').Router();\nimport { createUser, verifyUser, userArea } from '../auth/controller';\nimport { checkIfverified } from '../auth/middleware/user.middleware';\n\n\nrouter.post('/create', createUser)\n\nrouter.get('/verify', verifyUser)\n\nrouter.get('/protected', checkIfverified, userArea)\n\n\nexport { router }\n\n"],"mappings":";;;;;;AACA;AACA;AAFA,MAAMA,MAAM,GAAGC,OAAO,CAAC,SAAS,CAAC,CAACC,MAAM,EAAE;AAAC;AAK3CF,MAAM,CAACG,IAAI,CAAC,SAAS,EAAEC,sBAAU,CAAC;AAElCJ,MAAM,CAACK,GAAG,CAAC,SAAS,EAAEC,sBAAU,CAAC;AAEjCN,MAAM,CAACK,GAAG,CAAC,YAAY,EAAEE,qBAAe,EAAEC,oBAAQ,CAAC"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6ec528dcc591884c20344735b6641ddf8b32c1b9","contentHash":"0e06c4c302fed293a0177c17e3bccea1ce1325d51f6f41be53cfb50b11571132"},"/home/amrit/internship/mailauth/src/auth/controller.js":{"path":"/home/amrit/internship/mailauth/src/auth/controller.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":68}},"2":{"start":{"line":7,"column":19},"end":{"line":7,"column":52}},"3":{"start":{"line":10,"column":19},"end":{"line":22,"column":1}},"4":{"start":{"line":15,"column":6},"end":{"line":15,"column":14}},"5":{"start":{"line":16,"column":14},"end":{"line":20,"column":4}},"6":{"start":{"line":21,"column":2},"end":{"line":21,"column":102}},"7":{"start":{"line":23,"column":0},"end":{"line":23,"column":32}},"8":{"start":{"line":24,"column":19},"end":{"line":42,"column":1}},"9":{"start":{"line":28,"column":6},"end":{"line":28,"column":15}},"10":{"start":{"line":29,"column":15},"end":{"line":31,"column":4}},"11":{"start":{"line":32,"column":2},"end":{"line":40,"column":3}},"12":{"start":{"line":33,"column":24},"end":{"line":37,"column":6}},"13":{"start":{"line":38,"column":4},"end":{"line":38,"column":44}},"14":{"start":{"line":39,"column":4},"end":{"line":39,"column":42}},"15":{"start":{"line":41,"column":2},"end":{"line":41,"column":36}},"16":{"start":{"line":52,"column":0},"end":{"line":52,"column":32}},"17":{"start":{"line":53,"column":17},"end":{"line":61,"column":1}},"18":{"start":{"line":56,"column":6},"end":{"line":56,"column":17}},"19":{"start":{"line":59,"column":6},"end":{"line":59,"column":14}},"20":{"start":{"line":60,"column":2},"end":{"line":60,"column":46}},"21":{"start":{"line":62,"column":0},"end":{"line":62,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":10,"column":19},"end":{"line":10,"column":20}},"loc":{"start":{"line":10,"column":39},"end":{"line":22,"column":1}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":24,"column":19},"end":{"line":24,"column":20}},"loc":{"start":{"line":24,"column":39},"end":{"line":42,"column":1}},"line":24},"2":{"name":"(anonymous_2)","decl":{"start":{"line":53,"column":17},"end":{"line":53,"column":18}},"loc":{"start":{"line":53,"column":31},"end":{"line":61,"column":1}},"line":53}},"branchMap":{"0":{"loc":{"start":{"line":32,"column":2},"end":{"line":40,"column":3}},"type":"if","locations":[{"start":{"line":32,"column":2},"end":{"line":40,"column":3}},{"start":{"line":32,"column":2},"end":{"line":40,"column":3}}],"line":32}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":3,"10":3,"11":3,"12":2,"13":2,"14":2,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1},"f":{"0":1,"1":3,"2":1},"b":{"0":[2,1]},"inputSourceMap":{"version":3,"names":["createUser","req","res","username","password","email","body","url","create","send","verifyUser","code","id","query","data","fetch","toJSON","updatedData","update","verified","cookie","get","redirect","userArea","cookies"],"sourceRoot":"/home/amrit/internship/mailauth/src/auth/","sources":["controller.js"],"sourcesContent":["import { update, create, fetch } from './services/useractions';\n/** @type {import(\"express\").RequestHandler} */\n\nconst createUser = async (req, res) => {\n\tconst { username, password, email } = req.body;\n\tconst url = await create({ username, password, email })\n\tres.send(`please check you email for verification link , link to email: <a href=\"${url}\">link</a>`)\n}\n\n\nconst verifyUser = async (req, res) => {\n\tconst { code, id } = req.query;\n\tconst data = await fetch({ id })\n\tif (data.toJSON().code == code) {\n\t\tconst updatedData = await update({ id }, { verified: true })\n\t\tres.cookie('id', updatedData.get('id'));\n\t\treturn res.redirect(`/api/protected`)\n\t}\n\treturn res.send('please sign up')\n}\n\n// new User({})\n// \t.where({ username: username })\n// \t.save({ verified: true }, { patch: true })\n// \t.then(_d => {\n// \t\tres.redirect(`/protected?user=${username}`)\n// \t}).catch(err => console.log(err))\n// } else {\n// \tres.redirect('/')\n\nconst userArea = (req, res) => {\n\tconst { id } = req.cookies;\n\tconst { username } = req.body;\n\tres.send(`hello ${username} with id ${id}`)\n}\n\nexport { createUser, verifyUser, userArea };\n"],"mappings":";;;;;;AAAA;AACA;;AAEA,MAAMA,UAAU,GAAG,OAAOC,GAAG,EAAEC,GAAG,KAAK;EACtC,MAAM;IAAEC,QAAQ;IAAEC,QAAQ;IAAEC;EAAM,CAAC,GAAGJ,GAAG,CAACK,IAAI;EAC9C,MAAMC,GAAG,GAAG,MAAM,IAAAC,mBAAM,EAAC;IAAEL,QAAQ;IAAEC,QAAQ;IAAEC;EAAM,CAAC,CAAC;EACvDH,GAAG,CAACO,IAAI,CAAE,0EAAyEF,GAAI,YAAW,CAAC;AACpG,CAAC;AAAA;AAGD,MAAMG,UAAU,GAAG,OAAOT,GAAG,EAAEC,GAAG,KAAK;EACtC,MAAM;IAAES,IAAI;IAAEC;EAAG,CAAC,GAAGX,GAAG,CAACY,KAAK;EAC9B,MAAMC,IAAI,GAAG,MAAM,IAAAC,kBAAK,EAAC;IAAEH;EAAG,CAAC,CAAC;EAChC,IAAIE,IAAI,CAACE,MAAM,EAAE,CAACL,IAAI,IAAIA,IAAI,EAAE;IAC/B,MAAMM,WAAW,GAAG,MAAM,IAAAC,mBAAM,EAAC;MAAEN;IAAG,CAAC,EAAE;MAAEO,QAAQ,EAAE;IAAK,CAAC,CAAC;IAC5DjB,GAAG,CAACkB,MAAM,CAAC,IAAI,EAAEH,WAAW,CAACI,GAAG,CAAC,IAAI,CAAC,CAAC;IACvC,OAAOnB,GAAG,CAACoB,QAAQ,CAAE,gBAAe,CAAC;EACtC;EACA,OAAOpB,GAAG,CAACO,IAAI,CAAC,gBAAgB,CAAC;AAClC,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA,MAAMc,QAAQ,GAAG,CAACtB,GAAG,EAAEC,GAAG,KAAK;EAC9B,MAAM;IAAEU;EAAG,CAAC,GAAGX,GAAG,CAACuB,OAAO;EAC1B,MAAM;IAAErB;EAAS,CAAC,GAAGF,GAAG,CAACK,IAAI;EAC7BJ,GAAG,CAACO,IAAI,CAAE,SAAQN,QAAS,YAAWS,EAAG,EAAC,CAAC;AAC5C,CAAC;AAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0c8ea63014c04b9cb6cc10d26b364a764e807335","contentHash":"e7cecac90ef5c3c29bda0a527c1a17fabf9a55c2db8ae9b9a22de977cc9e2a02"},"/home/amrit/internship/mailauth/src/auth/services/useractions.js":{"path":"/home/amrit/internship/mailauth/src/auth/services/useractions.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":57}},"2":{"start":{"line":7,"column":12},"end":{"line":7,"column":70}},"3":{"start":{"line":8,"column":14},"end":{"line":8,"column":57}},"4":{"start":{"line":9,"column":39},"end":{"line":9,"column":93}},"5":{"start":{"line":10,"column":54},"end":{"line":10,"column":73}},"6":{"start":{"line":10,"column":75},"end":{"line":10,"column":326}},"7":{"start":{"line":10,"column":125},"end":{"line":10,"column":161}},"8":{"start":{"line":10,"column":163},"end":{"line":10,"column":324}},"9":{"start":{"line":10,"column":224},"end":{"line":10,"column":287}},"10":{"start":{"line":10,"column":327},"end":{"line":10,"column":339}},"11":{"start":{"line":11,"column":33},"end":{"line":11,"column":489}},"12":{"start":{"line":11,"column":46},"end":{"line":11,"column":47}},"13":{"start":{"line":11,"column":91},"end":{"line":11,"column":131}},"14":{"start":{"line":11,"column":133},"end":{"line":11,"column":487}},"15":{"start":{"line":11,"column":194},"end":{"line":11,"column":236}},"16":{"start":{"line":11,"column":402},"end":{"line":11,"column":483}},"17":{"start":{"line":11,"column":490},"end":{"line":11,"column":504}},"18":{"start":{"line":12,"column":44},"end":{"line":12,"column":70}},"19":{"start":{"line":12,"column":71},"end":{"line":12,"column":222}},"20":{"start":{"line":12,"column":89},"end":{"line":12,"column":193}},"21":{"start":{"line":12,"column":203},"end":{"line":12,"column":220}},"22":{"start":{"line":12,"column":223},"end":{"line":12,"column":234}},"23":{"start":{"line":13,"column":41},"end":{"line":13,"column":68}},"24":{"start":{"line":13,"column":70},"end":{"line":13,"column":121}},"25":{"start":{"line":14,"column":37},"end":{"line":14,"column":99}},"26":{"start":{"line":14,"column":86},"end":{"line":14,"column":99}},"27":{"start":{"line":14,"column":111},"end":{"line":14,"column":136}},"28":{"start":{"line":14,"column":138},"end":{"line":14,"column":322}},"29":{"start":{"line":14,"column":174},"end":{"line":14,"column":209}},"30":{"start":{"line":14,"column":211},"end":{"line":14,"column":251}},"31":{"start":{"line":14,"column":240},"end":{"line":14,"column":251}},"32":{"start":{"line":14,"column":252},"end":{"line":14,"column":320}},"33":{"start":{"line":14,"column":323},"end":{"line":14,"column":375}},"34":{"start":{"line":15,"column":15},"end":{"line":30,"column":1}},"35":{"start":{"line":16,"column":15},"end":{"line":16,"column":67}},"36":{"start":{"line":17,"column":2},"end":{"line":29,"column":3}},"37":{"start":{"line":18,"column":17},"end":{"line":23,"column":6}},"38":{"start":{"line":24,"column":22},"end":{"line":24,"column":74}},"39":{"start":{"line":25,"column":4},"end":{"line":25,"column":27}},"40":{"start":{"line":26,"column":4},"end":{"line":26,"column":21}},"41":{"start":{"line":28,"column":4},"end":{"line":28,"column":28}},"42":{"start":{"line":31,"column":0},"end":{"line":31,"column":24}},"43":{"start":{"line":32,"column":14},"end":{"line":39,"column":1}},"44":{"start":{"line":33,"column":2},"end":{"line":38,"column":3}},"45":{"start":{"line":34,"column":17},"end":{"line":34,"column":53}},"46":{"start":{"line":35,"column":4},"end":{"line":35,"column":16}},"47":{"start":{"line":37,"column":4},"end":{"line":37,"column":28}},"48":{"start":{"line":40,"column":0},"end":{"line":40,"column":22}},"49":{"start":{"line":41,"column":15},"end":{"line":50,"column":1}},"50":{"start":{"line":42,"column":2},"end":{"line":49,"column":3}},"51":{"start":{"line":43,"column":17},"end":{"line":45,"column":6}},"52":{"start":{"line":46,"column":4},"end":{"line":46,"column":16}},"53":{"start":{"line":48,"column":4},"end":{"line":48,"column":21}},"54":{"start":{"line":51,"column":0},"end":{"line":51,"column":24}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":31}},"loc":{"start":{"line":9,"column":37},"end":{"line":9,"column":95}},"line":9},"1":{"name":"ownKeys","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":16}},"loc":{"start":{"line":10,"column":41},"end":{"line":10,"column":341}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":10,"column":207},"end":{"line":10,"column":208}},"loc":{"start":{"line":10,"column":222},"end":{"line":10,"column":289}},"line":10},"3":{"name":"_objectSpread","decl":{"start":{"line":11,"column":9},"end":{"line":11,"column":22}},"loc":{"start":{"line":11,"column":31},"end":{"line":11,"column":506}},"line":11},"4":{"name":"(anonymous_4)","decl":{"start":{"line":11,"column":177},"end":{"line":11,"column":178}},"loc":{"start":{"line":11,"column":192},"end":{"line":11,"column":238}},"line":11},"5":{"name":"(anonymous_5)","decl":{"start":{"line":11,"column":385},"end":{"line":11,"column":386}},"loc":{"start":{"line":11,"column":400},"end":{"line":11,"column":485}},"line":11},"6":{"name":"_defineProperty","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":24}},"loc":{"start":{"line":12,"column":42},"end":{"line":12,"column":236}},"line":12},"7":{"name":"_toPropertyKey","decl":{"start":{"line":13,"column":9},"end":{"line":13,"column":23}},"loc":{"start":{"line":13,"column":29},"end":{"line":13,"column":123}},"line":13},"8":{"name":"_toPrimitive","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":21}},"loc":{"start":{"line":14,"column":35},"end":{"line":14,"column":377}},"line":14},"9":{"name":"(anonymous_9)","decl":{"start":{"line":15,"column":15},"end":{"line":15,"column":16}},"loc":{"start":{"line":15,"column":28},"end":{"line":30,"column":1}},"line":15},"10":{"name":"(anonymous_10)","decl":{"start":{"line":32,"column":14},"end":{"line":32,"column":15}},"loc":{"start":{"line":32,"column":27},"end":{"line":39,"column":1}},"line":32},"11":{"name":"(anonymous_11)","decl":{"start":{"line":41,"column":15},"end":{"line":41,"column":16}},"loc":{"start":{"line":41,"column":35},"end":{"line":50,"column":1}},"line":41}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":46},"end":{"line":9,"column":92}},"type":"cond-expr","locations":[{"start":{"line":9,"column":70},"end":{"line":9,"column":73}},{"start":{"line":9,"column":76},"end":{"line":9,"column":92}}],"line":9},"1":{"loc":{"start":{"line":9,"column":46},"end":{"line":9,"column":67}},"type":"binary-expr","locations":[{"start":{"line":9,"column":46},"end":{"line":9,"column":49}},{"start":{"line":9,"column":53},"end":{"line":9,"column":67}}],"line":9},"2":{"loc":{"start":{"line":10,"column":75},"end":{"line":10,"column":326}},"type":"if","locations":[{"start":{"line":10,"column":75},"end":{"line":10,"column":326}},{"start":{"line":10,"column":75},"end":{"line":10,"column":326}}],"line":10},"3":{"loc":{"start":{"line":10,"column":163},"end":{"line":10,"column":291}},"type":"binary-expr","locations":[{"start":{"line":10,"column":163},"end":{"line":10,"column":177}},{"start":{"line":10,"column":182},"end":{"line":10,"column":290}}],"line":10},"4":{"loc":{"start":{"line":11,"column":91},"end":{"line":11,"column":131}},"type":"cond-expr","locations":[{"start":{"line":11,"column":114},"end":{"line":11,"column":126}},{"start":{"line":11,"column":129},"end":{"line":11,"column":131}}],"line":11},"5":{"loc":{"start":{"line":11,"column":133},"end":{"line":11,"column":486}},"type":"cond-expr","locations":[{"start":{"line":11,"column":141},"end":{"line":11,"column":239}},{"start":{"line":11,"column":242},"end":{"line":11,"column":486}}],"line":11},"6":{"loc":{"start":{"line":11,"column":242},"end":{"line":11,"column":486}},"type":"cond-expr","locations":[{"start":{"line":11,"column":277},"end":{"line":11,"column":350}},{"start":{"line":11,"column":353},"end":{"line":11,"column":486}}],"line":11},"7":{"loc":{"start":{"line":12,"column":71},"end":{"line":12,"column":222}},"type":"if","locations":[{"start":{"line":12,"column":71},"end":{"line":12,"column":222}},{"start":{"line":12,"column":71},"end":{"line":12,"column":222}}],"line":12},"8":{"loc":{"start":{"line":13,"column":77},"end":{"line":13,"column":120}},"type":"cond-expr","locations":[{"start":{"line":13,"column":103},"end":{"line":13,"column":106}},{"start":{"line":13,"column":109},"end":{"line":13,"column":120}}],"line":13},"9":{"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":99}},"type":"if","locations":[{"start":{"line":14,"column":37},"end":{"line":14,"column":99}},{"start":{"line":14,"column":37},"end":{"line":14,"column":99}}],"line":14},"10":{"loc":{"start":{"line":14,"column":41},"end":{"line":14,"column":84}},"type":"binary-expr","locations":[{"start":{"line":14,"column":41},"end":{"line":14,"column":66}},{"start":{"line":14,"column":70},"end":{"line":14,"column":84}}],"line":14},"11":{"loc":{"start":{"line":14,"column":138},"end":{"line":14,"column":322}},"type":"if","locations":[{"start":{"line":14,"column":138},"end":{"line":14,"column":322}},{"start":{"line":14,"column":138},"end":{"line":14,"column":322}}],"line":14},"12":{"loc":{"start":{"line":14,"column":191},"end":{"line":14,"column":208}},"type":"binary-expr","locations":[{"start":{"line":14,"column":191},"end":{"line":14,"column":195}},{"start":{"line":14,"column":199},"end":{"line":14,"column":208}}],"line":14},"13":{"loc":{"start":{"line":14,"column":211},"end":{"line":14,"column":251}},"type":"if","locations":[{"start":{"line":14,"column":211},"end":{"line":14,"column":251}},{"start":{"line":14,"column":211},"end":{"line":14,"column":251}}],"line":14},"14":{"loc":{"start":{"line":14,"column":331},"end":{"line":14,"column":366}},"type":"cond-expr","locations":[{"start":{"line":14,"column":351},"end":{"line":14,"column":357}},{"start":{"line":14,"column":360},"end":{"line":14,"column":366}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":4,"6":4,"7":4,"8":4,"9":0,"10":4,"11":4,"12":4,"13":6,"14":6,"15":6,"16":0,"17":4,"18":6,"19":6,"20":0,"21":6,"22":6,"23":6,"24":6,"25":6,"26":6,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":2,"36":2,"37":2,"38":2,"39":2,"40":2,"41":0,"42":1,"43":1,"44":4,"45":4,"46":4,"47":0,"48":1,"49":1,"50":3,"51":3,"52":3,"53":0,"54":1},"f":{"0":2,"1":4,"2":0,"3":4,"4":6,"5":0,"6":6,"7":6,"8":6,"9":2,"10":4,"11":3},"b":{"0":[1,1],"1":[2,2],"2":[4,0],"3":[4,4],"4":[6,0],"5":[4,2],"6":[2,0],"7":[0,6],"8":[0,6],"9":[6,0],"10":[6,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},"inputSourceMap":{"version":3,"names":["create","obj","code","Math","floor","random","data","User","verified","save","method","mailerres","mailer","email","id","console","log","e","error","fetch","update","upd","patch"],"sourceRoot":"/home/amrit/internship/mailauth/src/auth/services/","sources":["useractions.js"],"sourcesContent":["import User from '../../models/user.model';\nimport mailer from './mailer';\nconst create = async (obj) => {\n\tconst code = Math.floor(Math.random() * (9999 - 1000 + 1) + 1000);\n\ttry {\n\t\tconst data = await new User({ ...obj, code, verified: false })\n\t\t\t.save(null, { method: 'insert' })\n\t\tconst mailerres = await mailer(code, obj.email, data.id)\n\t\tconsole.log(mailerres)\n\t\treturn mailerres;\n\t} catch (e) {\n\t\treturn console.error(e)\n\t}\n}\n\n\nconst fetch = async (obj) => {\n\ttry {\n\t\tconst data = await new User(obj).fetch()\n\t\treturn data\n\t} catch (e) {\n\t\treturn console.error(e)\n\t}\n\n}\n\nconst update = async (obj, upd) => {\n\ttry {\n\t\tconst data = await new User(obj).save(upd, { patch: true })\n\t\treturn data;\n\t} catch (e) {\n\t\tconsole.error(e)\n\t}\n}\n\nexport { create, update, fetch }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"mappings":";;;;;;AAAA;AACA;AAA8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAC9B,MAAMA,MAAM,GAAG,MAAOC,GAAG,IAAK;EAC7B,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,IAAI,IAAI,GAAG,IAAI,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;EACjE,IAAI;IACH,MAAMC,IAAI,GAAG,MAAM,IAAIC,aAAI,iCAAMN,GAAG;MAAEC,IAAI;MAAEM,QAAQ,EAAE;IAAK,GAAG,CAC5DC,IAAI,CAAC,IAAI,EAAE;MAAEC,MAAM,EAAE;IAAS,CAAC,CAAC;IAClC,MAAMC,SAAS,GAAG,MAAM,IAAAC,eAAM,EAACV,IAAI,EAAED,GAAG,CAACY,KAAK,EAAEP,IAAI,CAACQ,EAAE,CAAC;IACxDC,OAAO,CAACC,GAAG,CAACL,SAAS,CAAC;IACtB,OAAOA,SAAS;EACjB,CAAC,CAAC,OAAOM,CAAC,EAAE;IACX,OAAOF,OAAO,CAACG,KAAK,CAACD,CAAC,CAAC;EACxB;AACD,CAAC;AAAA;AAGD,MAAME,KAAK,GAAG,MAAOlB,GAAG,IAAK;EAC5B,IAAI;IACH,MAAMK,IAAI,GAAG,MAAM,IAAIC,aAAI,CAACN,GAAG,CAAC,CAACkB,KAAK,EAAE;IACxC,OAAOb,IAAI;EACZ,CAAC,CAAC,OAAOW,CAAC,EAAE;IACX,OAAOF,OAAO,CAACG,KAAK,CAACD,CAAC,CAAC;EACxB;AAED,CAAC;AAAA;AAED,MAAMG,MAAM,GAAG,OAAOnB,GAAG,EAAEoB,GAAG,KAAK;EAClC,IAAI;IACH,MAAMf,IAAI,GAAG,MAAM,IAAIC,aAAI,CAACN,GAAG,CAAC,CAACQ,IAAI,CAACY,GAAG,EAAE;MAAEC,KAAK,EAAE;IAAK,CAAC,CAAC;IAC3D,OAAOhB,IAAI;EACZ,CAAC,CAAC,OAAOW,CAAC,EAAE;IACXF,OAAO,CAACG,KAAK,CAACD,CAAC,CAAC;EACjB;AACD,CAAC;AAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"01b4c96bcf9dab23c71b5a114a22f16ea86efd24","contentHash":"705fb7010e49d7092addd6bd5cad5d411b6d3380c318a87dccbb7c7b2805dc99"},"/home/amrit/internship/mailauth/src/models/user.model.js":{"path":"/home/amrit/internship/mailauth/src/models/user.model.js","statementMap":{"0":{"start":{"line":3,"column":11},"end":{"line":3,"column":27}},"1":{"start":{"line":4,"column":13},"end":{"line":6,"column":2}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":22}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"names":["db","require","User","model","tableName","module","exports"],"sourceRoot":"/home/amrit/internship/mailauth/src/models/","sources":["user.model.js"],"sourcesContent":["const db = require('../db');\nconst User = db.model('user', {\n\ttableName: 'users'\n})\nmodule.exports = User \n"],"mappings":";;AAAA,MAAMA,EAAE,GAAGC,OAAO,CAAC,OAAO,CAAC;AAC3B,MAAMC,IAAI,GAAGF,EAAE,CAACG,KAAK,CAAC,MAAM,EAAE;EAC7BC,SAAS,EAAE;AACZ,CAAC,CAAC;AACFC,MAAM,CAACC,OAAO,GAAGJ,IAAI"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"244cbf457e3d07d2036601a20b21657a4c720549","contentHash":"c9b59d95cd875bce71b43242330a5f10d2ce0036af7f510d23a09d48b9753cf9"},"/home/amrit/internship/mailauth/src/db.js":{"path":"/home/amrit/internship/mailauth/src/db.js","statementMap":{"0":{"start":{"line":3,"column":17},"end":{"line":3,"column":50}},"1":{"start":{"line":4,"column":13},"end":{"line":4,"column":38}},"2":{"start":{"line":5,"column":11},"end":{"line":5,"column":37}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":20}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"names":["knexfile","require","development","knex","db","module","exports"],"sourceRoot":"/home/amrit/internship/mailauth/src/","sources":["db.js"],"sourcesContent":["const knexfile = require('./knexfile').development\nconst knex = require('knex')(knexfile)\nconst db = require('bookshelf')(knex)\nmodule.exports = db; \n"],"mappings":";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,YAAY,CAAC,CAACC,WAAW;AAClD,MAAMC,IAAI,GAAGF,OAAO,CAAC,MAAM,CAAC,CAACD,QAAQ,CAAC;AACtC,MAAMI,EAAE,GAAGH,OAAO,CAAC,WAAW,CAAC,CAACE,IAAI,CAAC;AACrCE,MAAM,CAACC,OAAO,GAAGF,EAAE"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a8d39323a5918be3e9b8f067b9c6bd4ce3f98106","contentHash":"d12e6e821b35377d36e8d196d97037f20fc43ac9961fc9d82da48eca3fab9fb7"},"/home/amrit/internship/mailauth/src/knexfile.js":{"path":"/home/amrit/internship/mailauth/src/knexfile.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":19,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1},"f":{},"b":{},"inputSourceMap":{"version":3,"names":["module","exports","development","client","connection","host","port","database","user","pool","min","max"],"sourceRoot":"/home/amrit/internship/mailauth/src/","sources":["knexfile.js"],"sourcesContent":["module.exports = {\n\n\tdevelopment: {\n\t\tclient: 'postgresql',\n\t\tconnection: {\n\t\t\thost: '127.0.0.1',\n\t\t\tport: 5432,\n\t\t\tdatabase: 'mailauth',\n\t\t\tuser: 'postgres',\n\t\t\t// password: process.env.DBPASS\n\t\t},\n\t\tpool: {\n\t\t\tmin: 2,\n\t\t\tmax: 10\n\t\t},\n\t}\n}\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAO,GAAG;EAEhBC,WAAW,EAAE;IACZC,MAAM,EAAE,YAAY;IACpBC,UAAU,EAAE;MACXC,IAAI,EAAE,WAAW;MACjBC,IAAI,EAAE,IAAI;MACVC,QAAQ,EAAE,UAAU;MACpBC,IAAI,EAAE;MACN;IACD,CAAC;;IACDC,IAAI,EAAE;MACLC,GAAG,EAAE,CAAC;MACNC,GAAG,EAAE;IACN;EACD;AACD,CAAC"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"36a37a85ce96e8c3c4e5d4ddd3f982316b86b6fa","contentHash":"4c3f3c5fe6e5bd6415c1084b25a292464344a24ad2f8353c49fb6eb3a8f28fb7"},"/home/amrit/internship/mailauth/src/auth/services/mailer.js":{"path":"/home/amrit/internship/mailauth/src/auth/services/mailer.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":18},"end":{"line":7,"column":39}},"3":{"start":{"line":8,"column":14},"end":{"line":8,"column":41}},"4":{"start":{"line":9,"column":15},"end":{"line":32,"column":1}},"5":{"start":{"line":10,"column":22},"end":{"line":10,"column":74}},"6":{"start":{"line":11,"column":22},"end":{"line":18,"column":3}},"7":{"start":{"line":25,"column":2},"end":{"line":31,"column":3}},"8":{"start":{"line":26,"column":17},"end":{"line":26,"column":56}},"9":{"start":{"line":27,"column":16},"end":{"line":27,"column":56}},"10":{"start":{"line":28,"column":4},"end":{"line":28,"column":15}},"11":{"start":{"line":30,"column":4},"end":{"line":30,"column":28}},"12":{"start":{"line":33,"column":15},"end":{"line":33,"column":21}},"13":{"start":{"line":34,"column":0},"end":{"line":34,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":15},"end":{"line":9,"column":16}},"loc":{"start":{"line":9,"column":42},"end":{"line":32,"column":1}},"line":9}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":2,"6":2,"7":2,"8":2,"9":2,"10":2,"11":0,"12":1,"13":1},"f":{"0":2},"b":{},"inputSourceMap":{"version":3,"names":["mailer","code","email","id","Transporter","createTransport","smtpConfig","mailOptions","from","auth","user","to","subject","html","info","sendMail","url","getTestMessageUrl","e","console","error"],"sourceRoot":"/home/amrit/internship/mailauth/src/auth/services/","sources":["mailer.js"],"sourcesContent":["import { createTransport, getTestMessageUrl } from 'nodemailer';\nimport { smtpConfig } from '../../config.env';\nconst mailer = async (code, email, id) => {\n\tconst Transporter = createTransport(smtpConfig);\n\n\tconst mailOptions = {\n\t\tfrom: smtpConfig.auth.user,\n\t\tto: email, // list of receivers\n\t\tsubject: 'email verification', // Subject line\n\t\thtml: `<p><a href=\"http://localhost:3000/api/verify?code=${code}&id=${id}\">click to verify </a></p>`// plain text body\n\t};\n\t// return Transporter.sendMail(mailOptions, async function(err, info) {\n\t// \tif (err) return console.error(err)\n\t// \tconsole.log('Message sent: %s', info.messageId);\n\t// \turl = nodemailer.getTestMessageUrl(info)\n\t// })\n\n\ttry {\n\t\tconst info = await Transporter.sendMail(mailOptions);\n\t\tconst url = getTestMessageUrl(info);\n\t\treturn url;\n\t} catch (e) {\n\t\treturn console.error(e);\n\t}\n\n\n}\n\n\nexport default mailer\n"],"mappings":";;;;;;AAAA;AACA;AACA,MAAMA,MAAM,GAAG,OAAOC,IAAI,EAAEC,KAAK,EAAEC,EAAE,KAAK;EACzC,MAAMC,WAAW,GAAG,IAAAC,2BAAe,EAACC,kBAAU,CAAC;EAE/C,MAAMC,WAAW,GAAG;IACnBC,IAAI,EAAEF,kBAAU,CAACG,IAAI,CAACC,IAAI;IAC1BC,EAAE,EAAET,KAAK;IAAE;IACXU,OAAO,EAAE,oBAAoB;IAAE;IAC/BC,IAAI,EAAG,qDAAoDZ,IAAK,OAAME,EAAG,4BAA2B;EACrG,CAAC;EACD;EACA;EACA;EACA;EACA;;EAEA,IAAI;IACH,MAAMW,IAAI,GAAG,MAAMV,WAAW,CAACW,QAAQ,CAACR,WAAW,CAAC;IACpD,MAAMS,GAAG,GAAG,IAAAC,6BAAiB,EAACH,IAAI,CAAC;IACnC,OAAOE,GAAG;EACX,CAAC,CAAC,OAAOE,CAAC,EAAE;IACX,OAAOC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC;EACxB;AAGD,CAAC;AAAA,eAGclB,MAAM;AAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"61fda7d10f778b183651979e0cd9ebb99d66bb78","contentHash":"1c15f45b6e5bde45923d804ca0ac6f3e5677594dcbfdb01eca7c57a12c2333a0"},"/home/amrit/internship/mailauth/src/config.env.js":{"path":"/home/amrit/internship/mailauth/src/config.env.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"1":{"start":{"line":4,"column":19},"end":{"line":13,"column":1}},"2":{"start":{"line":15,"column":0},"end":{"line":17,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"names":["require","config","smtpConfig","host","process","env","SMTPHOST","port","SMTPPORT","secure","auth","user","SMTPUSER","pass","SMTPPASS","module","exports"],"sourceRoot":"/home/amrit/internship/mailauth/src/","sources":["config.env.js"],"sourcesContent":["require('dotenv').config();\n\nconst smtpConfig = {\n\thost: process.env.SMTPHOST,\n\tport: process.env.SMTPPORT,\n\tsecure: false,\n\tauth: {\n\t\tuser: process.env.SMTPUSER, // generated ethereal user\n\t\tpass: process.env.SMTPPASS  // generated ethereal password\n\t}\n}\n\n\nmodule.exports = { smtpConfig }\n\n\n\n"],"mappings":";;AAAAA,OAAO,CAAC,QAAQ,CAAC,CAACC,MAAM,EAAE;AAE1B,MAAMC,UAAU,GAAG;EAClBC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ;EAC1BC,IAAI,EAAEH,OAAO,CAACC,GAAG,CAACG,QAAQ;EAC1BC,MAAM,EAAE,KAAK;EACbC,IAAI,EAAE;IACLC,IAAI,EAAEP,OAAO,CAACC,GAAG,CAACO,QAAQ;IAAE;IAC5BC,IAAI,EAAET,OAAO,CAACC,GAAG,CAACS,QAAQ,CAAE;EAC7B;AACD,CAAC;;AAGDC,MAAM,CAACC,OAAO,GAAG;EAAEd;AAAW,CAAC"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"23e03e8f8a8f8b46fea372e2baebad25562980a1","contentHash":"463d1c149a7a460022fec5d722b757097afb969c04061a4a104a981c133c7025"},"/home/amrit/internship/mailauth/src/auth/middleware/user.middleware.js":{"path":"/home/amrit/internship/mailauth/src/auth/middleware/user.middleware.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":33}},"2":{"start":{"line":7,"column":12},"end":{"line":7,"column":70}},"3":{"start":{"line":8,"column":39},"end":{"line":8,"column":93}},"4":{"start":{"line":9,"column":24},"end":{"line":29,"column":1}},"5":{"start":{"line":12,"column":6},"end":{"line":12,"column":17}},"6":{"start":{"line":13,"column":2},"end":{"line":15,"column":3}},"7":{"start":{"line":14,"column":4},"end":{"line":14,"column":22}},"8":{"start":{"line":16,"column":2},"end":{"line":16,"column":27}},"9":{"start":{"line":17,"column":2},"end":{"line":19,"column":3}},"10":{"start":{"line":18,"column":4},"end":{"line":18,"column":29}},"11":{"start":{"line":20,"column":2},"end":{"line":28,"column":5}},"12":{"start":{"line":23,"column":4},"end":{"line":25,"column":5}},"13":{"start":{"line":24,"column":6},"end":{"line":24,"column":31}},"14":{"start":{"line":26,"column":4},"end":{"line":26,"column":45}},"15":{"start":{"line":27,"column":4},"end":{"line":27,"column":11}},"16":{"start":{"line":30,"column":0},"end":{"line":30,"column":42}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":31}},"loc":{"start":{"line":8,"column":37},"end":{"line":8,"column":95}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":24},"end":{"line":9,"column":25}},"loc":{"start":{"line":9,"column":44},"end":{"line":29,"column":1}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":22,"column":18},"end":{"line":22,"column":19}},"loc":{"start":{"line":22,"column":26},"end":{"line":28,"column":3}},"line":22}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":92}},"type":"cond-expr","locations":[{"start":{"line":8,"column":70},"end":{"line":8,"column":73}},{"start":{"line":8,"column":76},"end":{"line":8,"column":92}}],"line":8},"1":{"loc":{"start":{"line":8,"column":46},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":46},"end":{"line":8,"column":49}},{"start":{"line":8,"column":53},"end":{"line":8,"column":67}}],"line":8},"2":{"loc":{"start":{"line":13,"column":2},"end":{"line":15,"column":3}},"type":"if","locations":[{"start":{"line":13,"column":2},"end":{"line":15,"column":3}},{"start":{"line":13,"column":2},"end":{"line":15,"column":3}}],"line":13},"3":{"loc":{"start":{"line":17,"column":2},"end":{"line":19,"column":3}},"type":"if","locations":[{"start":{"line":17,"column":2},"end":{"line":19,"column":3}},{"start":{"line":17,"column":2},"end":{"line":19,"column":3}}],"line":17},"4":{"loc":{"start":{"line":23,"column":4},"end":{"line":25,"column":5}},"type":"if","locations":[{"start":{"line":23,"column":4},"end":{"line":25,"column":5}},{"start":{"line":23,"column":4},"end":{"line":25,"column":5}}],"line":23}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":5,"6":5,"7":5,"8":5,"9":5,"10":3,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1},"f":{"0":1,"1":5,"2":2},"b":{"0":[0,1],"1":[1,1],"2":[5,0],"3":[3,2],"4":[1,1]},"inputSourceMap":{"version":3,"names":["checkIfverified","req","res","next","id","cookies","query","console","log","redirect","User","fetch","then","data","get","body","username"],"sourceRoot":"/home/amrit/internship/mailauth/src/auth/middleware/","sources":["user.middleware.js"],"sourcesContent":["import User from '../../models/user.model';\n\n\nconst checkIfverified = (req, res, next) => {\n\tvar { id } = req.cookies\n\tif (!id) {\n\t\tid = req.query.id;\n\t}\n\tconsole.log('idis ', id)\n\tif (!id) {\n\t\treturn res.redirect('/')\n\t}\n\tnew User({ id }).fetch().then(data => {\n\t\tif (data.get('verified') == false) {\n\t\t\treturn res.redirect('/')\n\t\t}\n\t\treq.body.username = data.get('username')\n\t\tnext()\n\t})\n}\n\n\nexport { checkIfverified }\n"],"mappings":";;;;;;AAAA;AAA2C;AAG3C,MAAMA,eAAe,GAAG,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAC3C,IAAI;IAAEC;EAAG,CAAC,GAAGH,GAAG,CAACI,OAAO;EACxB,IAAI,CAACD,EAAE,EAAE;IACRA,EAAE,GAAGH,GAAG,CAACK,KAAK,CAACF,EAAE;EAClB;EACAG,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEJ,EAAE,CAAC;EACxB,IAAI,CAACA,EAAE,EAAE;IACR,OAAOF,GAAG,CAACO,QAAQ,CAAC,GAAG,CAAC;EACzB;EACA,IAAIC,aAAI,CAAC;IAAEN;EAAG,CAAC,CAAC,CAACO,KAAK,EAAE,CAACC,IAAI,CAACC,IAAI,IAAI;IACrC,IAAIA,IAAI,CAACC,GAAG,CAAC,UAAU,CAAC,IAAI,KAAK,EAAE;MAClC,OAAOZ,GAAG,CAACO,QAAQ,CAAC,GAAG,CAAC;IACzB;IACAR,GAAG,CAACc,IAAI,CAACC,QAAQ,GAAGH,IAAI,CAACC,GAAG,CAAC,UAAU,CAAC;IACxCX,IAAI,EAAE;EACP,CAAC,CAAC;AACH,CAAC;AAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3c537d418530654af5734452118c67f4565d6000","contentHash":"636f152c6c828c3184afde07f26332502614462c63454c8b06dab38e3712c6a1"}}